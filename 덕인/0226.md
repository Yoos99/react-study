# 서버 사이드 렌더링

서버 사이드 렌더링(Server-Side Rendering, SSR)은 웹 페이지의 HTML을 서버에서 미리 렌더링하여 클라이언트(브라우저)로 전달하는 방식 이를 통해 초기 페이지 로딩 속도를 높이고, SEO(검색 엔진 최적화) 성능을 개선할 수 있다.

## 싱글 페이지 애플리케이션 이란?

싱글 페이지 애플리케이션(SPA, Single Page Application)은 하나의 HTML 페이지에서 동적으로 콘텐츠를 변경하여 사용자에게 부드러운 경험을 제공하는 웹 애플리케이션 방식입니다.

## 📊 SSR vs SPA 비교 표

| 항목                 | 서버사이드 렌더링 (SSR)    | 싱글 페이지 애플리케이션 (SPA)          |
| -------------------- | -------------------------- | --------------------------------------- |
| **렌더링 방식**      | 서버에서 HTML 생성 후 전송 | 클라이언트에서 JavaScript로 동적 렌더링 |
| **초기 로딩 속도**   | 빠름                       | 느림 (대신 이후 전환 속도 빠름)         |
| **페이지 전환 속도** | 느림 (새로고침 필요)       | 빠름 (클라이언트에서 처리)              |
| **SEO 최적화**       | 용이                       | 기본적으로 어려움 (해결 가능)           |
| **서버 부하**        | 상대적으로 높음            | 낮음 (API 호출로만 서버와 통신)         |
| **실시간 업데이트**  | 제한적                     | 강점 (비동기 데이터 요청)               |
| **UX**               | 전통적인 웹 방식           | 애플리케이션과 유사한 경험              |

## 서버 사이드 렌더링의 장점

**1. 최초 페이지 진입이 비교적 빠르다**

- SSR은 HTML을 서버에서 미리 렌더링하여 클라이언트에 전달하므로, 브라우저가 즉시 렌더링할 수 있어 초기 로딩 속도가 빠릅니다.
- 반면 CSR(Client-Side Rendering)은 브라우저가 자바스크립트를 다운받아 실행해야 하므로 초기 진입 속도가 느릴 수 있습니다.

**2. 검색 엔진과 SNS 공유 등 메타데이터 제공이 쉽다**

- SSR은 HTML이 서버에서 완전히 렌더링된 상태로 제공되므로, 검색 엔진 크롤러(SEO)에 최적화됩니다.
- SNS 공유 시 Open Graph(OG) 태그 등의 메타데이터가 포함된 HTML을 즉시 제공할 수 있습니다.

**3. 누적 레이아웃 이동(CLS, Cumulative Layout Shift)이 적다**

- 서버에서 완전히 렌더링된 HTML을 제공하기 때문에, 클라이언트에서 콘텐츠가 뒤늦게 로딩되며 발생하는 레이아웃 이동 문제가 줄어듭니다.
- CSR 방식에서는 초기 로딩 후 데이터를 받아서 동적으로 렌더링하는 과정에서 레이아웃 이동이 발생할 수 있습니다.

**4. 사용자의 디바이스 성능에 비교적 자유롭다**

- SSR 방식에서는 렌더링이 서버에서 이루어지기 때문에, 클라이언트 디바이스의 성능이 낮아도 원활한 사용이 가능합니다.
- CSR의 경우, 클라이언트에서 직접 렌더링을 수행해야 하므로 저사양 기기에서는 성능 저하가 발생할 수 있습니다.

**5. 보안에 좀 더 안전하다**

- 서버에서 데이터를 가공하고 렌더링하여 클라이언트에 전달하므로, 민감한 데이터를 직접 클라이언트에서 노출할 가능성이 적습니다.
- 반면 CSR은 API를 통해 데이터를 직접 요청하고 렌더링하는 구조이므로, API 응답이 직접 노출될 위험이 있습니다.

## 서버 사이드 렌더링의 단점

**1. 소스코드를 작성할 때 항상 서버를 고려해야 한다**

- SSR은 클라이언트에서만 동작하는 CSR과 달리, 서버에서 HTML을 생성하여 제공해야 하므로 코드 작성 시 서버 환경을 항상 고려해야 합니다.
- 예를 들어, window나 document 같은 브라우저 객체는 서버에서는 존재하지 않으므로, 이런 코드가 실행되지 않도록 처리해야 합니다.
- 또한, 데이터 페칭 방식도 서버와 클라이언트에서 다르게 동작할 수 있어 추가적인 코드 관리가 필요합니다.

**2. 적절한 서버가 구축돼 있어야 한다**

- SSR은 요청이 들어올 때마다 서버에서 HTML을 생성하여 응답해야 하므로, 서버 인프라가 필수적입니다.
- 정적 사이트(Static Site)나 CSR 기반 웹앱은 CDN을 활용해 서버 부담을 줄일 수 있지만, SSR은 요청을 처리할 서버가 항상 가동되어 있어야 합니다.
- 따라서 서버 유지보수, 확장성(Scaling) 등을 고려한 인프라 설계가 필요하며, 서버 비용도 증가할 수 있습니다.

**3. 서비스 지연에 따른 문제**

- SSR은 요청이 들어올 때마다 서버에서 렌더링을 수행하므로, 서버가 느려지거나 과부하가 걸리면 페이지 로딩 속도가 저하될 수 있습니다.
- 특히, 동적인 데이터(예: 사용자 맞춤 데이터)를 포함한 페이지는 매번 새로운 HTML을 생성해야 하므로, 응답 속도가 느려질 가능성이 큽니다.
- 이를 해결하기 위해 캐싱(Caching), 하이브리드 렌더링(SSR + SSG) 등의 기법을 활용하는 경우가 많습니다.

## SPA와 SSR을 모두 알아야 하는 이유

**1. 서비스 특성에 따라 최적의 렌더링 방식을 선택해야 함**

- 모든 웹사이트가 같은 방식으로 동작할 필요는 없습니다.
- 예를 들어, SEO가 중요한 블로그, 뉴스 사이트는 SSR이 유리하지만, 대시보드, 웹앱처럼 - 사용자 상호작용이 많은 서비스는 SPA가 더 적합합니다.
- 따라서 개발자는 프로젝트의 특성에 맞게 SSR, SPA, 또는 하이브리드 방식을 선택할 수 있어야 합니다.

**2. SSR과 SPA의 혼합 사용(하이브리드 렌더링) 가능**

- Next.js, Nuxt.js 같은 프레임워크는 SSR과 CSR을 함께 사용할 수 있도록 지원합니다.
- 예를 들어, 초기 페이지는 SSR로 빠르게 렌더링하고, 이후 페이지 이동은 SPA처럼 처리하여 속도를 최적화할 수 있습니다.
- 이를 위해 SSR과 SPA의 개념을 모두 이해하고 있어야 합니다.

**3. 성능 최적화를 위해 적절한 전략을 선택해야 함**

- SPA는 첫 로딩 속도가 느릴 수 있지만, 페이지 이동 속도가 빠릅니다.
- 반면, SSR은 첫 로딩 속도가 빠르지만, 페이지 이동 시 서버 요청이 많아질 수 있습니다.
- 이를 해결하기 위해 SSG(Static Site Generation), ISR(Incremental Static Regeneration) 같은 기법을 함께 고려해야 합니다.
