# 2025.02.26 (서버 사이드 렌더링, 리액트 API)

###

https://tech.kakaopay.com/post/react-server-components/

## 4.1 서버 사이드 렌더링이란?

creat-react-app 사용 ⇒ **클라이언트 사이드 렌더링(CSR)** 방식으로 동작

Next.js 같은 프레임워크 사용⇒ **서버 사이드 렌더링(SSR)** 방식으로 구현 가능

**SPA(Single Page Application)**는 한 개의 HTML 페이지에서 JavaScript를 이용해 동적으로 콘텐츠를 변경하는 방식의 웹 애플리케이션이고
**SSR(Server-Side Rendering)**은 SPA의 태생적인 한계에서 찾고 이를 개선하고자 다시 떠오른 기존 방식의 웹 개발. 서버에서 HTML을 미리 생성하여 브라우저에 전달하는 방식

이 두개의 차이는 웹페이지 렌더링의 책임을 어디에 두느냐가 중점.

spa는 자바스크립트 번들, ssr은 서버에서 모두 수행

이 두 개의 차이는 **웹페이지 렌더링의 책임이 어디에 있느냐**가 핵심임.

👉**SPA는 브라우저에서 모든 렌더링을 처리하며, SSR은 서버에서 HTML을 미리 생성해서 보냄.**

SPA는**자바스크립트 번들**이 필수적이고, SSR은**서버에서 모든 HTML을 준비한 뒤 클라이언트로 전송**함.

### **SSR의 특징**

- **서버에서 HTML을 생성해서 클라이언트에 전달하므로 첫 화면 로딩이 빠름**
- **SEO 최적화가 뛰어남** (검색 엔진이 완전한 HTML을 읽을 수 있음)
- **페이지 변경 시 새로운 HTML을 서버에서 받아옴**
- **사용자 디바이스의 성능에 영향을 덜 받음** (렌더링이 서버에서 이루어지기 때문)

### **SSR의 단점**

- **항상 서버를 고려해야 함** (서버가 다운되면 화면을 표시할 수 없음)
- **서비스 지연 발생 시, SPA는 "로딩 중" 같은 안내를 줄 수 있지만, SSR은 서버에서 렌더링이 끝나기 전까지 아무것도 보여줄 수 없음**
- **잘못 설계하면 성능이 더 떨어질 수도 있음** (클라이언트와 서버 모두 관리해야 함)

✅ **SPA가 적합한 경우**

- 앱과 같은 인터페이스(UI) 필요 (예: Gmail, Trello, Notion)
  페이지 이동이 많고 사용자 경험이 중요한 경우
  SEO가 크게 중요하지 않은 경우

✅ **SSR이 적합한 경우**

- SEO 최적화가 필수적인 경우 (예: 블로그, 뉴스 사이트, 쇼핑몰)
  빠른 첫 화면 로딩이 중요한 경우
  많은 동적 데이터를 다루지만 검색 엔진 노출이 필요한 경우

### **SSR을 구현하는 리액트 API**

React에는 `renderToString` 같은 API가 존재함.

👉 **리액트 컴포넌트를 렌더링해 HTML 문자열로 반환하는 함수**

👉 하지만 React 18 이후로 **Suspense, Concurrent Rendering, Server Components**가 추가되면서 SSR을 직접 구현할 수 있는 기능이 생김.

### **🚀 하지만, Next.js를 쓰는 게 훨씬 효율적임**

React 18의 새로운 기능 덕분에 SSR을 직접 구현할 수도 있지만,

👉 **Next.js를 사용하면 SSR을 훨씬 쉽게 구현 가능**

👉 Next.js는 **자동 코드 분할, 캐싱, 정적 생성 등 최적화 기능을 제공**하여,

👉 **React에서 직접 SSR을 구현하는 것보다 훨씬 효율적임**

### **SSR의 장점 & 단점 요약**

✅ **장점:**

- **빠른 첫 화면 로딩** (서버에서 미리 HTML을 제공하므로)
- **SEO 최적화에 유리**

❌ **단점:**

- **서버 부하 증가** (모든 요청에서 HTML을 생성해야 함)
- **데이터 관리가 복잡함** (캐싱 및 요청 최적화 필요)

👉 **그래서 React 팀도 SSR을 직접 구현하기보다는 Next.js 같은 프레임워크 사용을 권장함**

## 4.2장 서버 사이드 렌더링을 위한 리액트 API

1. **SSR(서버 사이드 렌더링)은 빠른 로딩과 SEO 최적화에 좋지만, 개발이 복잡해진다.**
2. **React 18에서는 Suspense, Concurrent Rendering, Server Components 같은 새로운 기능이 SSR을 더 쉽게 만들었다.**
3. **실제 프로젝트에서는 Next.js 같은 프레임워크를 사용하는 것이 더 효율적이다.**
4. **SSR의 개념을 이해하면 Next.js 같은 프레임워크의 구조도 쉽게 파악할 수 있다.**

---

### **💡 쉽게 이해하기 위한 비유**

💭 **클라이언트 사이드 렌더링(CSR) = 즉석 라면**

- 브라우저가 **재료(HTML, CSS, JS)를 가져와 직접 조리(렌더링)** 해야 함.
- 따라서 **초기 로딩 속도가 느림**.
- 한 번 로드되면 빠르게 동작하지만, 처음에는 기다려야 함.

💭 **서버 사이드 렌더링(SSR) = 레스토랑 요리**

- **요리사가 미리 만들어서 완성된 음식(HTML)을 제공**.
- 사용자 입장에서는 **즉시 볼 수 있어서 빠름**.
- 하지만 **요리사(서버)가 바쁘면 늦어질 수도 있음**.

👉 **결론:**

- **CSR은 부드러운 사용자 경험(UI 중심), SSR은 SEO와 빠른 로딩 속도가 핵심**
- **실무에서는 Next.js 같은 프레임워크를 활용하여 SPA와 SSR을 적절히 조합하는 것이 일반적** 🚀
